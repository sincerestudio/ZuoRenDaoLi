<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0">
<title>做人道理</title>
<link href="jquery-mobile/jquery.mobile.theme-1.0.min.css" rel="stylesheet" type="text/css"/>
<link href="jquery-mobile/jquery.mobile.structure-1.0.min.css" rel="stylesheet" type="text/css"/>
<link href="jquery-mobile/main.css" rel="stylesheet" type="text/css"/>
<script src="jquery-mobile/jquery-1.6.4.min.js" type="text/javascript"></script>
<script src="jquery-mobile/jquery.mobile-1.0.min.js" type="text/javascript"></script>
<script src="jquery-mobile/iscroll.js" type="text/javascript"></script>
<script type="text/javascript">

var myScroll;
function loaded() {
	myScroll = new iScroll('content');
}

document.addEventListener('touchmove', function (e) { e.preventDefault(); }, false);

/* * * * * * * *
 *
 * Use this for high compatibility (iDevice + Android)
 *
 */
document.addEventListener('DOMContentLoaded', function () { setTimeout(loaded, 200); }, false);
/*
 * * * * * * * */


/* * * * * * * *
 *
 * Use this for iDevice only
 *
 */
//document.addEventListener('DOMContentLoaded', loaded, false);
/*
 * * * * * * * */


/* * * * * * * *
 *
 * Use this if nothing else works
 *
 */
//window.addEventListener('load', setTimeout(function () { loaded(); }, 200), false);
/*
 * * * * * * * */

</script>


<script type="text/javascript">
//提示信息
        function showMyAlert(text) {
                $.mobile.loadingMessageTextVisible = true;
                $.mobile.showPageLoadingMsg("a", text, true);
        }
        function myAlert(text) {
                showMyAlert(text);
                setTimeout(hideLoading, 2000);
        }
        function hideLoading() {
                $.mobile.hidePageLoadingMsg();
        }

</script>

<script type="text/javascript" charset="utf-8">

	// 当PhoneGap加载完毕后调用onDeviceReady回调函数 
	// 此时，该文件已加载完毕但phonegap.js还没有加载完毕。
	// 当PhoneGap加载完毕并开始和本地设备进行通讯，
	// 会触发“deviceready”事件
	document.addEventListener("deviceready", onDeviceReady, false);
	
	// PhoneGap is loaded and it is now safe to make calls PhoneGap methods
	function onDeviceReady() {
		// 注册回退按钮事件监听器
	   	document.addEventListener("backbutton", onBackKeyDown, false);
	}
	
		// 处理后退按钮操作
		function onBackKeyDown() {
                if ($.mobile.activePage.is('duanzi.html')) {
                        myAlert('再点击一次退出!');
                        document.removeEventListener("backbutton", eventBackButton, false); // 注销返回键
                        document.addEventListener("backbutton", exitApp, false);// 绑定退出事件
                        // 3秒后重新注册
                        var intervalID = window.setTimeout(function() {
                                window.clearTimeout(intervalID);
                                document.removeEventListener("backbutton", exitApp, false); // 注销返回键
                                document.addEventListener("backbutton", eventBackButton, false); // 返回键
                        }, 3000);
                }
                 else {
                         navigator.app.backHistory();
                 }
        
        }
        
        //退出app
        function exitApp() {
                navigator.app.exitApp();
        }


</script>

</head>
<body>

<!--段子页面开始-->
<div data-role="page" id="duanzi">
  <div data-theme="x" data-role="header" id="header">
    <h1>段子</h1>
    <a href="#" data-role="button" data-icon="refresh" data-iconpos="notext" data-theme="b" data-inline="true" class="ui-btn-right">Refresh</a> </div>
  <div data-role="content" id="content">
  	<div id="scroller">
        <p>这是第一行</p>
        <p>This is just a simple demo, upgrade to the full version to get a lot more!</p>
        <p>You can also add pages, and link buttons to them, like below!</p>
        <p>This is just a simple demo, upgrade to the full version to get a lot more!</p>
        <p>You can also add pages, and link buttons to them, like below!</p>
        <p>This is just a simple demo, upgrade to the full version to get a lot more!</p>
        <p>You can also add pages, and link buttons to them, like below!</p>
        <p>This is just a simple demo, upgrade to the full version to get a lot more!</p>
        <p>You can also add pages, and link buttons to them, like below!</p>
        <p>This is just a simple demo, upgrade to the full version to get a lot more!</p>
        <p>You can also add pages, and link buttons to them, like below!</p>
        <p>This is just a simple demo, upgrade to the full version to get a lot more!</p>
        <p>You can also add pages, and link buttons to them, like below!</p>
        <p>This is just a simple demo, upgrade to the full version to get a lot more!</p>
        <p>You can also add pages, and link buttons to them, like below!</p>
        <p>This is just a simple demo, upgrade to the full version to get a lot more!</p>
        <p>You can also add pages, and link buttons to them, like below!</p>
        <p>This is just a simple demo, upgrade to the full version to get a lot more!</p>
        <p>You can also add pages, and link buttons to them, like below!</p>
        <p>这是最后一行</p>
    </div>
  </div>
  <div data-role="footer" id="footer">
    <div data-role="navbar" data-grid="b">
      <ul>        
       	<li><a href="index.html" rel="external" id="tupian" data-icon="home">图片</a></li>
        <li><a href="#" rel="external" id="duanzi" data-icon="star" class="ui-btn-active">段子</a></li>
        <li><a href="more.html" rel="external" id="more" data-icon="info">更多</a></li>
      </ul>
    </div>
  </div>
</div>
<!--段子页面结束-->


</body>
</html>

</script>